(this["webpackJsonpvideo-recommendation"]=this["webpackJsonpvideo-recommendation"]||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),i=n(9),r=n.n(i),a=(n(14),n(4),n(8)),o=n(3),d=n(0),l=function(e){return Object(d.jsxs)("div",{onClick:function(t){var n=t.target.textContent;if("Add Video"===n)t.currentTarget.childNodes[1].classList.contains("displayclass")?t.currentTarget.childNodes[1].classList.remove("displayclass"):t.currentTarget.childNodes[1].classList.add("displayclass");else if("Cancel"===n)t.currentTarget.childNodes[1].classList.add("displayclass");else if("ADD"===n){var c=t.currentTarget.parentNode.childNodes[0].childNodes[1].childNodes[0].childNodes[1].value;t.currentTarget.parentNode.childNodes[0].childNodes[1].childNodes[0].childNodes[1].value="";var s=t.currentTarget.parentNode.childNodes[0].childNodes[1].childNodes[0].childNodes[3].value;t.currentTarget.parentNode.childNodes[0].childNodes[1].childNodes[0].childNodes[3].value="";var i={title:c,rating:0,url:s};0!==c.toString().trim().length&&s.match(/(?:https?:\/\/)?(?:youtu\.be\/|(?:www\.|m\.)?youtube\.com\/(?:watch|v|embed)(?:\.php)?(?:\?.*v=|\/))([a-zA-Z0-9_-]+)/)?fetch("http://127.0.0.1:5000",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(t){e.setDisplayVideos(t)})).catch((function(e){return console.error(e)})):alert("Enter a valid title or URL")}},className:"addvideo",children:[Object(d.jsx)("h3",{children:"Add Video"}),Object(d.jsxs)("div",{className:"displayclass",children:[Object(d.jsxs)("div",{className:"titleUrl",children:["Title ",Object(d.jsx)("input",{}),"URL ",Object(d.jsx)("input",{})]}),Object(d.jsxs)("div",{className:"addNdel",children:[Object(d.jsx)("button",{className:"btn btn-warning",children:"Cancel"}),Object(d.jsx)("button",{className:"btn btn-primary",children:"ADD"})]})]})]})},u=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Search "})," ",Object(d.jsx)("input",{onChange:e.handleSearch,placeholder:"search videos"})]})},j=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Sort By Rating"})," ",Object(d.jsx)("button",{onClick:e.handleSort,className:"btn btn-success sortBtn",children:e.sortVideoButton})]})},h=n(7),b=function(e){return Object(d.jsx)("button",{onClick:function(t){var n=t.currentTarget.parentNode.parentNode.childNodes[0].textContent,c=e.allVideos.filter((function(e){if(e.title===n)return e}));fetch("http://127.0.0.1:5000/:ID",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(t){e.setDisplayVideos(t)})).catch((function(e){return console.error(e)})),e.setDisplayVideos(e.allVideos)},className:"btn btn-danger",children:"DELETE"})},p=function(e){var t=Object(c.useState)(),n=Object(o.a)(t,2),s=n[0],i=n[1];Object(c.useEffect)((function(){i(e.rating)}),[e.rating]);var r=function(e){var t=e.currentTarget;console.log(t),t.classList.contains("upVotes")?i(s+1):i(s-1)};return Object(d.jsxs)("div",{className:"oneVideoFrame",children:[Object(d.jsx)("h4",{children:e.videoTitle}),Object(d.jsx)("iframe",{width:"500",height:"315",src:"https://www.youtube.com/embed/".concat(e.videoID),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),Object(d.jsxs)("div",{className:"delVot",children:[Object(d.jsx)(b,{setDisplayVideos:e.setDisplayVideos,allVideos:e.allVideos}),Object(d.jsxs)("div",{className:"voteCounts",children:[Object(d.jsx)("button",{onClick:r,className:"upVotes",children:Object(d.jsx)(h.b,{className:"classIcon"})}),Object(d.jsxs)("h4",{children:[s," votes"]}),Object(d.jsx)("button",{onClick:r,className:"downVotes",children:Object(d.jsx)(h.a,{className:"classIcon"})})]})]})]})},O=function(e){return Object(d.jsx)("div",{className:"videoframes",children:e.Data.map((function(t,n){var c=t.url.split("=")[1],s=t.rating,i=t.title;return Object(d.jsx)("div",{children:Object(d.jsx)(p,{videoID:c,rating:s,videoTitle:i,index:n,setDisplayVideos:e.setDisplayVideos,allVideos:e.allVideos})},n)}))})},f=function(){var e=Object(c.useRef)([]),t=Object(c.useState)([]),n=Object(o.a)(t,2),s=n[0],i=n[1],r=Object(c.useState)("Ascending"),h=Object(o.a)(r,2),b=h[0],p=h[1];Object(c.useEffect)((function(){fetch("http://127.0.0.1:5000/").then((function(e){return e.json()})).then((function(t){e.current=t,i(t)})).catch((function(e){return alert("Refresh The page, something went wrong")}))}),[]);return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"addVideoSearch",children:[Object(d.jsx)(l,{setDisplayVideos:i,allVideos:e.current}),Object(d.jsx)(u,{handleSearch:function(t){var n=t.target.value.toLowerCase(),c=e.current.filter((function(e){return e.title.toLowerCase().includes(n)}));i(c)}}),Object(d.jsx)(j,{sortVideoButton:b,handleSort:function(e){"Descending"===e.target.textContent?(p("Ascending"),i(Object(a.a)(s).sort((function(e,t){return e.rating>t.rating?-1:1})))):(p("Descending"),i(Object(a.a)(s).sort((function(e,t){return e.rating>t.rating?1:-1}))))}})]}),Object(d.jsx)(O,{Data:s,setDisplayVideos:i,allVideos:e.current})]})};var N=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("header",{className:"App-header",children:Object(d.jsx)("h1",{children:"Video Recommendation"})}),Object(d.jsx)(f,{})]})};n(16);r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root"))},4:function(e,t,n){}},[[17,1,2]]]);
//# sourceMappingURL=main.54fa6a12.chunk.js.map